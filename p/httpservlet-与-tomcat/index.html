<!DOCTYPE html>
<html lang="zh" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='HttpServlet ç®€ä»‹ HttpServletæ˜¯å¯¹HTTPåè®®å°è£…çš„Servletå®ç°ç±»ã€‚
Servletçš„ä½“ç³»ç»“æ„ï¼š
åœ¨å¼€å‘ä¸­ï¼Œå…³æ³¨æ›´å¤šçš„æ˜¯Servlet.service()æ–¹æ³•ã€‚è€Œæ¯å®ç°ä¸€ä¸ªServletå°±å¿…é¡»å®ç°Servletæ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„5ä¸ªæ–¹æ³•ã€‚
ä½†å…¶å®å¯ä»¥é€šè¿‡ç»§æ‰¿HttpServletæ¥ç¼–å†™Servletï¼Œç®€åŒ–Servletçš„å¼€å‘æµç¨‹ã€‚å¹¶ä¸”ï¼Œå¦‚æœæ˜¯å¼€å‘B/Sæ¶æ„çš„Webé¡¹ç›®ï¼Œé’ˆå¯¹çš„éƒ½æ˜¯HTTPåè®®ã€‚
ä½¿ç”¨HttpServletçš„æ ¼å¼å¦‚ä¸‹ï¼š
package com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; @WebServlet(&amp;#34;/demo&amp;#34;) public class ServletDemo extends HttpServlet { // éœ€è¦å¤å†™ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•:  @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(&amp;#34;Get...&amp;#34;); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(&amp;#34;Post...&amp;#34;); } }   å¯åŠ¨Tomcatï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®http://localhost:8080/web-demo/demoå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°doGet()æ–¹æ³•è¢«æ‰§è¡Œã€‚
  åœ¨é¡¹ç›®çš„webappç›®å½•ä¸‹æ–°å»ºindex.htmlï¼Œå†™å…¥ï¼š
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&amp;#34;zh&amp;#34;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; &amp;lt;title&amp;gt;TestPost&amp;lt;/title&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;form action=&amp;#34;/web-demo/demo&amp;#34; method=&amp;#34;post&amp;#34;&amp;gt; &amp;lt;input name=&amp;#34;username&amp;#34;/&amp;gt;&amp;lt;input type=&amp;#34;submit&amp;#34;/&amp;gt; &amp;lt;/form&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; å¯åŠ¨Tomcatï¼Œè®¿é—®http://localhost:8080/web-demo/ï¼Œåœ¨è¡¨å•è¾“å…¥å†…å®¹åæäº¤ã€‚å³å¯åœ¨æ§åˆ¶å°çœ‹åˆ°doPost()è¢«æ‰§è¡Œã€‚'>


<title>HttpServlet ä¸ Tomcat</title>

<link rel='canonical' href='https://blog.linner.asia/p/httpservlet-%E4%B8%8E-tomcat/'>

<link rel="stylesheet" href="/scss/style.min.7c633424a90a1d8259b6378ef34e038b31e5d518843590510464bf1ed0445907.css">
<link rel="stylesheet" href="/css/katex.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>
<script src="/js/katex.min.js"></script><meta property='og:title' content='HttpServlet ä¸ Tomcat'>
<meta property='og:description' content='HttpServlet ç®€ä»‹ HttpServletæ˜¯å¯¹HTTPåè®®å°è£…çš„Servletå®ç°ç±»ã€‚
Servletçš„ä½“ç³»ç»“æ„ï¼š
åœ¨å¼€å‘ä¸­ï¼Œå…³æ³¨æ›´å¤šçš„æ˜¯Servlet.service()æ–¹æ³•ã€‚è€Œæ¯å®ç°ä¸€ä¸ªServletå°±å¿…é¡»å®ç°Servletæ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„5ä¸ªæ–¹æ³•ã€‚
ä½†å…¶å®å¯ä»¥é€šè¿‡ç»§æ‰¿HttpServletæ¥ç¼–å†™Servletï¼Œç®€åŒ–Servletçš„å¼€å‘æµç¨‹ã€‚å¹¶ä¸”ï¼Œå¦‚æœæ˜¯å¼€å‘B/Sæ¶æ„çš„Webé¡¹ç›®ï¼Œé’ˆå¯¹çš„éƒ½æ˜¯HTTPåè®®ã€‚
ä½¿ç”¨HttpServletçš„æ ¼å¼å¦‚ä¸‹ï¼š
package com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; @WebServlet(&amp;#34;/demo&amp;#34;) public class ServletDemo extends HttpServlet { // éœ€è¦å¤å†™ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•:  @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(&amp;#34;Get...&amp;#34;); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(&amp;#34;Post...&amp;#34;); } }   å¯åŠ¨Tomcatï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®http://localhost:8080/web-demo/demoå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°doGet()æ–¹æ³•è¢«æ‰§è¡Œã€‚
  åœ¨é¡¹ç›®çš„webappç›®å½•ä¸‹æ–°å»ºindex.htmlï¼Œå†™å…¥ï¼š
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&amp;#34;zh&amp;#34;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; &amp;lt;title&amp;gt;TestPost&amp;lt;/title&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;form action=&amp;#34;/web-demo/demo&amp;#34; method=&amp;#34;post&amp;#34;&amp;gt; &amp;lt;input name=&amp;#34;username&amp;#34;/&amp;gt;&amp;lt;input type=&amp;#34;submit&amp;#34;/&amp;gt; &amp;lt;/form&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; å¯åŠ¨Tomcatï¼Œè®¿é—®http://localhost:8080/web-demo/ï¼Œåœ¨è¡¨å•è¾“å…¥å†…å®¹åæäº¤ã€‚å³å¯åœ¨æ§åˆ¶å°çœ‹åˆ°doPost()è¢«æ‰§è¡Œã€‚'>
<meta property='og:url' content='https://blog.linner.asia/p/httpservlet-%E4%B8%8E-tomcat/'>
<meta property='og:site_name' content='Linner&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Java' /><meta property='article:tag' content='JavaWeb' /><meta property='article:tag' content='Tomcat' /><meta property='article:published_time' content='2022-09-12T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2022-09-12T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="HttpServlet ä¸ Tomcat">
<meta name="twitter:description" content="HttpServlet ç®€ä»‹ HttpServletæ˜¯å¯¹HTTPåè®®å°è£…çš„Servletå®ç°ç±»ã€‚
Servletçš„ä½“ç³»ç»“æ„ï¼š
åœ¨å¼€å‘ä¸­ï¼Œå…³æ³¨æ›´å¤šçš„æ˜¯Servlet.service()æ–¹æ³•ã€‚è€Œæ¯å®ç°ä¸€ä¸ªServletå°±å¿…é¡»å®ç°Servletæ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„5ä¸ªæ–¹æ³•ã€‚
ä½†å…¶å®å¯ä»¥é€šè¿‡ç»§æ‰¿HttpServletæ¥ç¼–å†™Servletï¼Œç®€åŒ–Servletçš„å¼€å‘æµç¨‹ã€‚å¹¶ä¸”ï¼Œå¦‚æœæ˜¯å¼€å‘B/Sæ¶æ„çš„Webé¡¹ç›®ï¼Œé’ˆå¯¹çš„éƒ½æ˜¯HTTPåè®®ã€‚
ä½¿ç”¨HttpServletçš„æ ¼å¼å¦‚ä¸‹ï¼š
package com.linner.web; import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.*; import java.io.IOException; @WebServlet(&amp;#34;/demo&amp;#34;) public class ServletDemo extends HttpServlet { // éœ€è¦å¤å†™ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•:  @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(&amp;#34;Get...&amp;#34;); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { System.out.println(&amp;#34;Post...&amp;#34;); } }   å¯åŠ¨Tomcatï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®http://localhost:8080/web-demo/demoå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°doGet()æ–¹æ³•è¢«æ‰§è¡Œã€‚
  åœ¨é¡¹ç›®çš„webappç›®å½•ä¸‹æ–°å»ºindex.htmlï¼Œå†™å…¥ï¼š
&amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&amp;#34;zh&amp;#34;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34;&amp;gt; &amp;lt;title&amp;gt;TestPost&amp;lt;/title&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;form action=&amp;#34;/web-demo/demo&amp;#34; method=&amp;#34;post&amp;#34;&amp;gt; &amp;lt;input name=&amp;#34;username&amp;#34;/&amp;gt;&amp;lt;input type=&amp;#34;submit&amp;#34;/&amp;gt; &amp;lt;/form&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; å¯åŠ¨Tomcatï¼Œè®¿é—®http://localhost:8080/web-demo/ï¼Œåœ¨è¡¨å•è¾“å…¥å†…å®¹åæäº¤ã€‚å³å¯åœ¨æ§åˆ¶å°çœ‹åˆ°doPost()è¢«æ‰§è¡Œã€‚">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu0c2331fe09320137a3bd1d4b5cc68791_142496_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Linner&#39;s Blog</a></h1>
            <h2 class="site-description">éšä¾¿çœ‹çœ‹å°±è¡Œï¼Œå‰¯æ ‡é¢˜æš‚æ—¶è¿˜æ²¡æƒ³å¥½</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/Linna-cy'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>

                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>é“¾æ¥</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>æš—è‰²æ¨¡å¼</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives" id="toc-list">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents" class="js-toc"></nav>
            
        </div>
    </section>


            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/httpservlet-%E4%B8%8E-tomcat/">HttpServlet ä¸ Tomcat</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Sep 12, 2022</time>
                |
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 10 åˆ†é’Ÿ
                </time>
                |
            </div>
        

        <div class="article-time--reading">å…±2007å­—</div>
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="httpservlet-ç®€ä»‹">HttpServlet ç®€ä»‹</h1>
<p>HttpServletæ˜¯å¯¹HTTPåè®®å°è£…çš„Servletå®ç°ç±»ã€‚</p>
<p>Servletçš„ä½“ç³»ç»“æ„ï¼š</p>
<p><img src="/p/httpservlet-%E4%B8%8E-tomcat/1627240593506.png"
	width="970"
	height="294"
	srcset="/p/httpservlet-%E4%B8%8E-tomcat/1627240593506_huae8b169d4b81df926962616ecca12a18_76392_480x0_resize_box_3.png 480w, /p/httpservlet-%E4%B8%8E-tomcat/1627240593506_huae8b169d4b81df926962616ecca12a18_76392_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="329"
		data-flex-basis="791px"
	
></p>
<p>åœ¨å¼€å‘ä¸­ï¼Œå…³æ³¨æ›´å¤šçš„æ˜¯<code>Servlet.service()</code>æ–¹æ³•ã€‚è€Œæ¯å®ç°ä¸€ä¸ªServletå°±å¿…é¡»å®ç°Servletæ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„5ä¸ªæ–¹æ³•ã€‚</p>
<p>ä½†å…¶å®å¯ä»¥é€šè¿‡ç»§æ‰¿HttpServletæ¥ç¼–å†™Servletï¼Œç®€åŒ–Servletçš„å¼€å‘æµç¨‹ã€‚å¹¶ä¸”ï¼Œå¦‚æœæ˜¯å¼€å‘B/Sæ¶æ„çš„Webé¡¹ç›®ï¼Œé’ˆå¯¹çš„éƒ½æ˜¯HTTPåè®®ã€‚</p>
<p>ä½¿ç”¨HttpServletçš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ServletDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>

    <span style="color:#75715e">// éœ€è¦å¤å†™ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•:
</span><span style="color:#75715e"></span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Get...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Post...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><ul>
<li>
<p>å¯åŠ¨Tomcatï¼Œä½¿ç”¨æµè§ˆå™¨è®¿é—®<a class="link" href="http://localhost:8080/web-demo/demo"  target="_blank" rel="noopener"
    >http://localhost:8080/web-demo/demo</a>å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°<code>doGet()</code>æ–¹æ³•è¢«æ‰§è¡Œã€‚</p>
</li>
<li>
<p>åœ¨é¡¹ç›®çš„<code>webapp</code>ç›®å½•ä¸‹æ–°å»º<code>index.html</code>ï¼Œå†™å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;zh&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;TestPost&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">action</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/web-demo/demo&#34;</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>/&gt;&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>/&gt;
    &lt;/<span style="color:#f92672">form</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>å¯åŠ¨Tomcatï¼Œè®¿é—®<a class="link" href="http://localhost:8080/web-demo/"  target="_blank" rel="noopener"
    >http://localhost:8080/web-demo/</a>ï¼Œåœ¨è¡¨å•è¾“å…¥å†…å®¹åæäº¤ã€‚å³å¯åœ¨æ§åˆ¶å°çœ‹åˆ°<code>doPost()</code>è¢«æ‰§è¡Œã€‚</p>
</li>
</ul>
<h2 id="ä½¿ç”¨servletå®ç°httpservlet">ä½¿ç”¨Servletå®ç°HttpServlet</h2>
<p>æ—¢ç„¶HttpServletç»§æ‰¿è‡ªServletï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥é€šè¿‡ç¼–å†™Servletç±»æ¥å®ç°HttpServletï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyHttpServlet</span> <span style="color:#66d9ef">implements</span> Servlet <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">init</span><span style="color:#f92672">(</span>ServletConfig servletConfig<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException <span style="color:#f92672">{</span>

    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> ServletConfig <span style="color:#a6e22e">getServletConfig</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">service</span><span style="color:#f92672">(</span>ServletRequest servletRequest<span style="color:#f92672">,</span> ServletResponse servletResponse<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// æ ¹æ®è¯·æ±‚æ–¹å¼çš„ä¸åŒ,åˆ†åˆ«è¿›è¡Œå¤„ç†
</span><span style="color:#75715e"></span>
        HttpServletRequest request <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>HttpServletRequest<span style="color:#f92672">)</span> servletRequest<span style="color:#f92672">;</span>
        <span style="color:#75715e">// 1. è·å–è¯·æ±‚æ–¹å¼
</span><span style="color:#75715e"></span>        String method <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">();</span>

        <span style="color:#75715e">// 2. åˆ¤æ–­
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;GET&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>method<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// GET æ–¹å¼çš„å¤„ç†é€»è¾‘
</span><span style="color:#75715e"></span>            doGet<span style="color:#f92672">(</span>servletRequest<span style="color:#f92672">,</span> servletResponse<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;POST&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>method<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// POST æ–¹å¼çš„å¤„ç†é€»è¾‘
</span><span style="color:#75715e"></span>            doPost<span style="color:#f92672">(</span>servletRequest<span style="color:#f92672">,</span> servletResponse<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>ServletRequest servletRequest<span style="color:#f92672">,</span> ServletResponse servletResponse<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>ServletRequest servletRequest<span style="color:#f92672">,</span> ServletResponse servletResponse<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getServletInfo</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">destroy</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>

    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><blockquote>
<p>ç¿»é˜…<code>HttpServlet.service()</code>æ–¹æ³•æºç ï¼Œå¯ä»¥å‘ç°HttpServletä¸ä»…ä»…å¯ä»¥å¯¹GETå’ŒPOSTè¿›è¡Œå¤„ç†ï¼Œè¿˜èƒ½å¤„ç†å…¶å®ƒäº”ç§è¯·æ±‚ï¼š<code>doHead()</code>ã€<code>doPut()</code>ã€<code>doDelete()</code>ã€<code>doOptions()</code>å’Œ<code>doTrace()</code>ã€‚</p>
</blockquote>
<hr>
<h1 id="httpservletrequest-å’Œ-httpservletresponse">HttpServletRequest å’Œ HttpServletResponse</h1>
<h2 id="request-å’Œ-response-æ¦‚è¿°">Request å’Œ Response æ¦‚è¿°</h2>
<p><code>Request</code>æ˜¯è¯·æ±‚å¯¹è±¡ï¼Œ<code>Response</code>æ˜¯å“åº”å¯¹è±¡ã€‚åœ¨Servletä¸­ä¹Ÿå­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªå¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ServletDemo</span> <span style="color:#66d9ef">implements</span> Servlet <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">service</span><span style="color:#f92672">(</span>ServletRequest servletRequest<span style="color:#f92672">,</span> ServletResponse servletResponse<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#75715e">// ......
</span><span style="color:#75715e"></span>
<span style="color:#f92672">}</span>
</code></pre></div><p><code>Request</code>ä½œç”¨ï¼šè·å–è¯·æ±‚æ•°æ®</p>
<ul>
<li>
<p>æµè§ˆå™¨ä¼šå‘é€HTTPè¯·æ±‚åˆ°åå°æœåŠ¡å™¨ï¼ˆå¦‚ï¼ŒTomcatï¼‰</p>
</li>
<li>
<p>HTTPçš„è¯·æ±‚ä¸­ä¼šåŒ…å«å¾ˆå¤šè¯·æ±‚æ•°æ®</p>
<p>å¦‚ï¼ŒHTTPåè®®è¯·æ±‚ï¼š</p>
<ul>
<li>è¯·æ±‚è¡Œ</li>
<li>è¯·æ±‚å¤´</li>
<li>è¯·æ±‚ä½“</li>
</ul>
</li>
<li>
<p>åå°æœåŠ¡å™¨ä¼šå¯¹HTTPè¯·æ±‚ä¸­çš„æ•°æ®è¿›è¡Œè§£æå¹¶æŠŠè§£æç»“æœå­˜å…¥åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­</p>
<p>æ‰€å­˜å…¥çš„å¯¹è±¡å³ä¸º<code>Request</code>å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»<code>Request</code>å¯¹è±¡ä¸­è·å–è¯·æ±‚çš„ç›¸å…³å‚æ•°</p>
</li>
<li>
<p>è·å–åˆ°æ•°æ®åå°±å¯ä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡</p>
<p>å¦‚ï¼Œè·å–ç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥å®ç°ç™»å½•æ“ä½œçš„ç›¸å…³ä¸šåŠ¡</p>
</li>
</ul>
<p><code>Response</code>ä½œç”¨ï¼šè®¾ç½®å“åº”æ•°æ®</p>
<ul>
<li>ä¸šåŠ¡å¤„ç†å®Œåï¼Œåå°å°±éœ€è¦ç»™å‰ç«¯è¿”å›ä¸šåŠ¡å¤„ç†çš„ç»“æœï¼ˆå³ï¼Œå“åº”æ•°æ®ï¼‰</li>
<li>æŠŠå“åº”æ•°æ®å°è£…åˆ°<code>Response</code>å¯¹è±¡ä¸­</li>
<li>åå°æœåŠ¡å™¨ä¼šè§£æ<code>Response</code>å¯¹è±¡ï¼ŒæŒ‰ç…§æ ¼å¼ï¼ˆå“åº”è¡Œ+å“åº”å¤´+å“åº”ä½“ï¼‰æ‹¼æ¥ç»“æœ</li>
<li>æµè§ˆå™¨æœ€ç»ˆè§£æç»“æœï¼ŒæŠŠå†…å®¹å±•ç¤ºåœ¨æµè§ˆå™¨ç»™ç”¨æˆ·æµè§ˆ</li>
</ul>
<p>è€ŒHttpServletä½¿ç”¨çš„ <code>Request</code> å’Œ <code>Response</code> å¯¹è±¡ä¸Servletæœ‰æ‰€ä¸åŒã€‚HttpServletä½¿ç”¨çš„æ˜¯ <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code>ã€‚</p>
<p>Exampleï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HttpServletDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ä½¿ç”¨requestå¯¹è±¡ è·å–è¯·æ±‚æ•°æ®
</span><span style="color:#75715e"></span>        String name <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getParameter</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">);</span> 
        <span style="color:#75715e">// Parameteråœ¨åœ°å€ä¸­ä»¥ ? å¼€å§‹ï¼šurl?name=zhangsan
</span><span style="color:#75715e"></span>
        <span style="color:#75715e">// ä½¿ç”¨responseå¯¹è±¡ è®¾ç½®å“åº”æ•°æ®
</span><span style="color:#75715e"></span>        response<span style="color:#f92672">.</span><span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;content-type&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;text/html;charset=utf-8&#34;</span><span style="color:#f92672">);</span>
        response<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&lt;h1&gt;&#34;</span><span style="color:#f92672">+</span>name<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;,æ¬¢è¿æ‚¨ï¼&lt;/h1&gt;&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="request-å’Œ-response-ç»§æ‰¿ä½“ç³»">Request å’Œ Response ç»§æ‰¿ä½“ç³»</h2>
<p><code>HttpServletRequest</code>å’Œ<code>ServletRequest</code>ä¹‹é—´æ˜¯ç»§æ‰¿å…³ç³»ï¼Œ<code>HttpServletResponse</code>å’Œ<code>ServletResponse</code>æ˜¯ç»§æ‰¿å…³ç³»ã€‚</p>
<p><code>Request</code>ä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼š</p>
<p><img src="/p/httpservlet-%E4%B8%8E-tomcat/1628740441008.png"
	width="1183"
	height="398"
	srcset="/p/httpservlet-%E4%B8%8E-tomcat/1628740441008_hu61c87b102641e7760d7644dcb2a503fb_106457_480x0_resize_box_3.png 480w, /p/httpservlet-%E4%B8%8E-tomcat/1628740441008_hu61c87b102641e7760d7644dcb2a503fb_106457_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="297"
		data-flex-basis="713px"
	
></p>
<p><code>Response</code>ä¹‹é—´çš„ç»§æ‰¿å…³ç³»å¦‚ä¸‹ï¼š</p>
<p><img src="/p/httpservlet-%E4%B8%8E-tomcat/1628857761317.png"
	width="831"
	height="263"
	srcset="/p/httpservlet-%E4%B8%8E-tomcat/1628857761317_hu2fae8b067313d9317800a59fe5cea4a1_88068_480x0_resize_box_3.png 480w, /p/httpservlet-%E4%B8%8E-tomcat/1628857761317_hu2fae8b067313d9317800a59fe5cea4a1_88068_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="315"
		data-flex-basis="758px"
	
></p>
<hr>
<h1 id="httpservletrequest">HttpServletRequest</h1>
<p>HTTPå¸¸ç”¨çš„è¯·æ±‚æ–¹å¼ä¸ºï¼š</p>
<ul>
<li>GET</li>
<li>POST</li>
</ul>
<p>HTTPè¯·æ±‚æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼š</p>
<ul>
<li>è¯·æ±‚è¡Œ</li>
<li>è¯·æ±‚å¤´</li>
<li>è¯·æ±‚ä½“</li>
</ul>
<p>åœ¨è¯·æ±‚æ•°æ®ä¸­ï¼Œè¿˜åŒ…å«ç€è¯·æ±‚å‚æ•°ï¼š</p>
<ul>
<li>å¯¹äºGETï¼šè¯·æ±‚å‚æ•°åŒ…å«åœ¨è¯·æ±‚å¤´ä¸­ã€‚</li>
<li>å¯¹äºPOSTï¼šè¯·æ±‚å‚æ•°ä¸€èˆ¬åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚</li>
</ul>
<h2 id="è·å–è¯·æ±‚è¡Œæ•°æ®">è·å–è¯·æ±‚è¡Œæ•°æ®</h2>
<p>å¦‚æ‰“å¼€ä»¥ä¸‹é“¾æ¥ï¼š</p>
<pre tabindex="0"><code>http://localhost:8080/HttpServlet/httpservlet.html?username=linner
</code></pre><p>å…¶è¯·æ±‚è¡Œå¤§è‡´å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>GET /HttpServlet/httpservlet.html?username=linner HTTP/1.1
</code></pre><p>åŒ…å«ä»¥ä¸‹ä¸‰éƒ¨åˆ†å†…å®¹ï¼š</p>
<ul>
<li>
<p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼š<code>GET</code></p>
</li>
<li>
<p><strong>è¯·æ±‚èµ„æºè·¯å¾„</strong>ï¼š<code>/HttpServlet/httpservlet.html?username=linner</code></p>
<p>è¯·æ±‚èµ„æºè·¯å¾„åŒ…å«ï¼š</p>
<ul>
<li>è™šæ‹Ÿç›®å½•ï¼ˆé¡¹ç›®è®¿é—®è·¯å¾„ï¼‰ï¼š<code>/HttpServlet</code></li>
<li>URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰ï¼š<code>/HttpServlet/httpservlet.html</code></li>
<li>è¯·æ±‚å‚æ•°ï¼š<code>username=linner</code></li>
</ul>
</li>
<li>
<p><strong>HTTPåè®®åŠç‰ˆæœ¬</strong>ï¼š<code>HTTP/1.1</code></p>
</li>
</ul>
<p>è¿™ä¸‰éƒ¨åˆ†å†…å®¹ï¼Œ<code>HttpServletRequest</code>å¯¹è±¡éƒ½æä¾›äº†å¯¹åº”çš„APIæ–¹æ³•æ¥è·å–ï¼š</p>
<ul>
<li>
<p>è·å–è¯·æ±‚æ–¹å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String <span style="color:#a6e22e">getMethod</span><span style="color:#f92672">()</span>
</code></pre></div><p>è¿”å›ï¼š<code>GET</code></p>
</li>
<li>
<p>è·å–è™šæ‹Ÿç›®å½•ï¼ˆé¡¹ç›®è®¿é—®è·¯å¾„ï¼‰:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String <span style="color:#a6e22e">getContextPath</span><span style="color:#f92672">()</span>
</code></pre></div><p>è¿”å›ï¼š<code>/HttpServlet</code></p>
</li>
<li>
<p>è·å–URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">StringBuffer <span style="color:#a6e22e">getRequestURL</span><span style="color:#f92672">()</span>
</code></pre></div><p>è¿”å›ï¼š<code>http://localhost:8080/HttpServlet/httpservlet.htm</code></p>
</li>
<li>
<p>è·å–URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String <span style="color:#a6e22e">getRequestURI</span><span style="color:#f92672">()</span>
</code></pre></div><p>è¿”å›ï¼š<code>/HttpServlet/httpservlet.html</code></p>
</li>
<li>
<p>è·å–è¯·æ±‚å‚æ•°ï¼ˆGETæ–¹å¼ï¼‰:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String <span style="color:#a6e22e">getQueryString</span><span style="color:#f92672">()</span>
</code></pre></div><p>è¿”å›ï¼š<code>username=linner</code>ï¼ˆå¤šä¸ªå‚æ•°ä¹Ÿä¸€å¹¶è¿”å›ï¼‰</p>
</li>
</ul>
<p>Exampleï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.*<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestHttpServlet</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;---------------------------------------&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è¯·æ±‚è¡Œï¼š&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è¯·æ±‚æ–¹å¼ï¼š&#34;</span> <span style="color:#f92672">+</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è™šæ‹Ÿç›®å½•ï¼š&#34;</span> <span style="color:#f92672">+</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getContextPath</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;URLï¼š&#34;</span> <span style="color:#f92672">+</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getRequestURL</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;URIï¼š&#34;</span> <span style="color:#f92672">+</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getRequestURI</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è¯·æ±‚å‚æ•°ï¼š&#34;</span> <span style="color:#f92672">+</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getQueryString</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;---------------------------------------&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="è·å–è¯·æ±‚å¤´æ•°æ®">è·å–è¯·æ±‚å¤´æ•°æ®</h2>
<p>è¯·æ±‚å¤´æ•°æ®ç”±å¤šä¸ª <code>key: value</code> ç»„æˆï¼Œå¦‚å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<pre tabindex="0"><code>User-Agent: Mozila/5.0 Chrome/105.0.0.0 Edg/105.0.1343.42
</code></pre><p><code>HttpServletRequest</code> è·å–è¯·æ±‚å¤´çš„æ–¹æ³•ä¸ºï¼š</p>
<pre tabindex="0"><code>String getHeader(String name)
</code></pre><ul>
<li><code>name</code>ï¼šæ˜¯è¯·æ±‚å¤´ä¸­çš„<code>key</code>ã€‚</li>
<li>è¿”å›å€¼ï¼šè¿”å›<code>name</code>å¯¹åº”<code>key</code>çš„<code>value</code>ã€‚</li>
</ul>
<p>ä½¿ç”¨<code>getHeader()</code>è·å–å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web.request<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo7</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        String agent <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user-agent&#34;</span><span style="color:#f92672">);</span> <span style="color:#75715e">// name ä¸åŒºåˆ†å¤§å°å†™
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>agent<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>è¾“å‡ºï¼š</p>
<pre tabindex="0"><code>Mozila/5.0 Chrome/105.0.0.0 Edg/105.0.1343.42
</code></pre><h2 id="è·å–è¯·æ±‚ä½“æ•°æ®">è·å–è¯·æ±‚ä½“æ•°æ®</h2>
<p>æµè§ˆå™¨å‘é€çš„GETè¯·æ±‚ï¼Œæ˜¯æ²¡æœ‰è¯·æ±‚ä½“çš„ã€‚åªæœ‰åœ¨å‘é€POSTè¯·æ±‚æ—¶æ‰å¸¦æœ‰è¯·æ±‚ä½“ã€‚</p>
<p>è¯·æ±‚ä½“ä¸­çš„æ•°æ®æ ¼å¼å¦‚ï¼š</p>
<pre tabindex="0"><code>username=linner&amp;password=123456
</code></pre><p>ä¸èµ„æºè·¯å¾„ä¸­ï¼Œè¯·æ±‚å‚æ•°çš„æ ¼å¼ä¸€æ ·ã€‚</p>
<p><code>HttpServletRequest</code>æä¾›äº†ä¸¤ç§æ–¹å¼æ¥è·å–è¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼š</p>
<ul>
<li>
<p>è·å–å­—èŠ‚è¾“å…¥æµï¼š</p>
<p>å½“å‰ç«¯å‘é€çš„æ˜¯å­—èŠ‚æ•°æ®ï¼Œå¦‚ä¼ é€’çš„æ˜¯æ–‡ä»¶æ•°æ®æ—¶ä½¿ç”¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ServletInputStream <span style="color:#a6e22e">getInputStream</span><span style="color:#f92672">()</span>
</code></pre></div></li>
<li>
<p>è·å–å­—ç¬¦è¾“å…¥æµï¼š</p>
<p>å½“å‰ç«¯å‘é€çš„æ˜¯çº¯æ–‡æœ¬æ•°æ®æ—¶ä½¿ç”¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">BufferedReader <span style="color:#a6e22e">getReader</span><span style="color:#f92672">()</span>
</code></pre></div></li>
</ul>
<blockquote>
<p>å¦‚æœè¦åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨å‘é€POSTè¯·æ±‚ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ª<code>&lt;form&gt;</code>è¡¨å•ã€‚</p>
</blockquote>
<p>Exampleï¼š</p>
<ol>
<li>
<p>åœ¨é¡¹ç›®çš„<code>webapp</code>ç›®å½•ä¸‹æ·»åŠ <code>index.html</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;zh&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;Title&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
    <span style="color:#75715e">&lt;!-- 
</span><span style="color:#75715e">        action: è¡¨å•æäº¤çš„è¯·æ±‚åœ°å€
</span><span style="color:#75715e">        method: è¯·æ±‚æ–¹å¼ï¼ŒæŒ‡å®šä¸ºpost
</span><span style="color:#75715e">    --&gt;</span>
    &lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">action</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/request-demo/test&#34;</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;password&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;password&#34;</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;
    &lt;/<span style="color:#f92672">form</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div></li>
<li>
<p>åœ¨<code>doPost</code>æ–¹æ³•ä¸­è·å–æ•°æ®ï¼š</p>
<blockquote>
<p>ç”±äº<code>index.html</code>æäº¤çš„æ˜¯çº¯æ–‡æœ¬æ•°æ®ï¼Œæ‰€ä»¥è¦ä½¿ç”¨<code>getReader()</code>æ–¹æ³•è·å–ã€‚</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web.request<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.BufferedReader<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo8</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>

    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. è·å–å­—ç¬¦è¾“å…¥æµ
</span><span style="color:#75715e"></span>        BufferedReader br <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getReader</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 2. è¯»å–æ•°æ®
</span><span style="color:#75715e"></span>        String line <span style="color:#f92672">=</span> br<span style="color:#f92672">.</span><span style="color:#a6e22e">readLine</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>line<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><blockquote>
<p><code>BufferedReader</code>æµæ˜¯é€šè¿‡<code>HttpServletRequest</code>å¯¹è±¡æ¥è·å–çš„ï¼Œå½“è¯·æ±‚å®Œæˆå<code>HttpServletRequest</code>å¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œ<code>HttpServletRequest</code>å¯¹è±¡è¢«é”€æ¯åï¼Œ<code>BufferedReader</code>æµå°±ä¼šè‡ªåŠ¨å…³é—­ï¼Œæ‰€ä»¥å°±ä¸éœ€è¦æ‰‹åŠ¨å…³é—­æµäº†ã€‚
<code>getReader()</code>è·å–è¯·æ±‚å‚æ•°åï¼Œè¿˜éœ€è¦ä½¿ç”¨<code>readLine()</code>è¯»å–å‚æ•°æ•°æ®ã€‚</p>
</blockquote>
</li>
<li>
<p>é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š<a class="link" href="http://localhost:8080/request-demo/"  target="_blank" rel="noopener"
    >http://localhost:8080/request-demo/</a>ã€‚åœ¨è¡¨å•ä¸­è¾“å…¥å†…å®¹ï¼Œç„¶åæäº¤ï¼Œå°±å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°å‰ç«¯æ‰€å‘é€çš„è¯·æ±‚æ•°æ®ï¼š</p>
<pre tabindex="0"><code>username=linner&amp;password=123456
</code></pre></li>
</ol>
<h2 id="è·å–è¯·æ±‚å‚æ•°">è·å–è¯·æ±‚å‚æ•°</h2>
<p>ä½¿ç”¨<code>getQueryString()</code>æ–¹æ³•å’Œ<code>getReader()</code>åˆ†åˆ«è·å–GETå’ŒPOSTçš„è¯·æ±‚å‚æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        String result <span style="color:#f92672">=</span> req<span style="color:#f92672">.</span><span style="color:#a6e22e">getQueryString</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>result<span style="color:#f92672">);</span>

    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        BufferedReader br <span style="color:#f92672">=</span> req<span style="color:#f92672">.</span><span style="color:#a6e22e">getReader</span><span style="color:#f92672">();</span>
        String result <span style="color:#f92672">=</span> br<span style="color:#f92672">.</span><span style="color:#a6e22e">readLine</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>result<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>ä¸Šè¿°ä»£ç å­˜åœ¨çš„é—®é¢˜ï¼š</p>
<ul>
<li>
<p><code>doGet()</code>å’Œ<code>doPost</code>ä¸­å‡ºç°äº†é‡å¤ä»£ç ã€‚</p>
<p>åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°å¾ˆå¤šç›¸åŒçš„ä¸šåŠ¡ä»£ç ã€‚</p>
</li>
<li>
<p><code>doGet()</code>å’Œ<code>doPost</code>éƒ½å¿…é¡»å­˜åœ¨ã€‚</p>
</li>
<li>
<p>GETè¯·æ±‚å’ŒPOSTè¯·æ±‚è·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼ä¸ä¸€æ ·ã€‚</p>
</li>
</ul>
<ol>
<li>
<p>åœ¨<code>doPost()</code>ä¸­è°ƒç”¨<code>doGet()</code>ï¼Œç„¶ååœ¨<code>doGet()</code>åˆ¤æ–­è¯·æ±‚çš„æ–¹å¼ï¼Œå¹¶åˆ†åˆ«åšå¤„ç†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. è·å–è¯·æ±‚æ–¹å¼
</span><span style="color:#75715e"></span>        String method <span style="color:#f92672">=</span> req<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// 2. è·å–è¯·æ±‚å‚æ•°
</span><span style="color:#75715e"></span>        String params <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;GET&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>method<span style="color:#f92672">)){</span>
            params <span style="color:#f92672">=</span> req<span style="color:#f92672">.</span><span style="color:#a6e22e">getQueryString</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;POST&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>method<span style="color:#f92672">)){</span>
            BufferedReader reader <span style="color:#f92672">=</span> req<span style="color:#f92672">.</span><span style="color:#a6e22e">getReader</span><span style="color:#f92672">();</span>
            params <span style="color:#f92672">=</span> reader<span style="color:#f92672">.</span><span style="color:#a6e22e">readLine</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#75715e">// 3. å¤„ç†è¯·æ±‚
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>params<span style="color:#f92672">);</span>

    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>req<span style="color:#f92672">,</span>resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></li>
<li>
<p><code>HttpServletRequest</code>å·²ç»å¯¹è·å–è¯·æ±‚å‚æ•°çš„æ–¹å¼è¿›è¡Œäº†å°è£…ï¼š</p>
<ul>
<li>
<p>è·å–æ‰€æœ‰å‚æ•°Mapé›†åˆ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">[]&gt;</span> <span style="color:#a6e22e">getParameterMap</span><span style="color:#f92672">()</span>
</code></pre></div></li>
<li>
<p>æ ¹æ®åç§°è·å–å‚æ•°å€¼ï¼ˆè¿”å›å€¼ä¸ºæ•°ç»„ï¼Œè¿”å›å¤šä¸ªå‚æ•°ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String<span style="color:#f92672">[]</span> <span style="color:#a6e22e">getParameterValues</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>æ ¹æ®åç§°è·å–å‚æ•°å€¼ï¼ˆå•ä¸ªå€¼ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String <span style="color:#a6e22e">getParameter</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span>
</code></pre></div></li>
</ul>
<p>åŒæ ·æ˜¯åœ¨<code>doPost()</code>ä¸­è°ƒç”¨<code>doGet()</code>ï¼Œç„¶ååœ¨<code>doGet()</code>å¤„ç†å‚æ•°ï¼Œä½†æ˜¯åœ¨è·å–å‚æ•°æ—¶ä¸ç”¨å¯¹è¯·æ±‚æ–¹å¼è¿›è¡Œåˆ¤æ–­ã€‚</p>
<p>Exampleï¼š</p>
<ol>
<li>
<p><code>webapp/index.html</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;zh&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;Title&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
    test:get
    &lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">action</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/request-demo/test&#34;</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;get&#34;</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;password&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;password&#34;</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hobby&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span>&gt; get-1
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hobby&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;2&#34;</span>&gt; get-2 &lt;<span style="color:#f92672">br</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;
    &lt;/<span style="color:#f92672">form</span>&gt;
    test:post
    &lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">action</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/request-demo/test&#34;</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;username&#34;</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;password&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;password&#34;</span>&gt;&lt;<span style="color:#f92672">br</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hobby&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span>&gt; post-1
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hobby&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;2&#34;</span>&gt; post-2 &lt;<span style="color:#f92672">br</span>&gt;
        &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span>&gt;
    &lt;/<span style="color:#f92672">form</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div></li>
<li>
<p>ä½¿ç”¨<code>getParameterValues()</code>å’Œ<code>getParameter()</code>è·å–è¯·æ±‚å‚æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test1&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo1</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;---------------&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// éªŒè¯è¯·æ±‚çš„æ–¹å¼ï¼š
</span><span style="color:#75715e"></span>        String method <span style="color:#f92672">=</span> req<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>method<span style="color:#f92672">);</span>

        <span style="color:#75715e">// è·å–å¤šä¸ª valueï¼š
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hobby: &#34;</span><span style="color:#f92672">);</span>
        String<span style="color:#f92672">[]</span> hobbies <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getParameterValues</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hobby&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>String hobby <span style="color:#f92672">:</span> hobbies<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>hobby <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;\b\b  &#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// è·å–å•ä¸ª valueï¼š
</span><span style="color:#75715e"></span>        String username <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getParameter</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">);</span>
        String password <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getParameter</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username: &#34;</span> <span style="color:#f92672">+</span> username<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password: &#34;</span> <span style="color:#f92672">+</span> password<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></li>
<li>
<p>ä½¿ç”¨<code>getParameterMap()</code>ä¸€æ¬¡æ€§è·å–æ‰€æœ‰å‚æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Map<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;-------------------------------------------&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// éªŒè¯è¯·æ±‚çš„æ–¹å¼ï¼š
</span><span style="color:#75715e"></span>        String method <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>method<span style="color:#f92672">);</span>

        <span style="color:#75715e">// è·å–æ‰€æœ‰å‚æ•°çš„Mapé›†åˆ
</span><span style="color:#75715e"></span>        Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">[]&gt;</span> map <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getParameterMap</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>String key <span style="color:#f92672">:</span> map<span style="color:#f92672">.</span><span style="color:#a6e22e">keySet</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>key <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">);</span>

            <span style="color:#75715e">// è·å–keyå¯¹åº”çš„æ‰€æœ‰values
</span><span style="color:#75715e"></span>            String<span style="color:#f92672">[]</span> values <span style="color:#f92672">=</span> map<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>key<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>String value <span style="color:#f92672">:</span> values<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>value <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span><span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;\b\b  &#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div></li>
</ol>
</li>
</ol>
<h2 id="è¯·æ±‚è½¬å‘">è¯·æ±‚è½¬å‘</h2>
<p>è¯·æ±‚è½¬å‘ï¼ˆforwardï¼‰æ˜¯ä¸€ç§åœ¨æœåŠ¡å™¨å†…éƒ¨çš„èµ„æºè·³è½¬æ–¹å¼ã€‚å¦‚ï¼š</p>
<ol>
<li>æœåŠ¡å™¨å†…èµ„æºAè·å–è¯·æ±‚ã€‚</li>
<li>èµ„æºAï¼ˆå¤„ç†ä¸€éƒ¨åˆ†æ•°æ®åï¼‰å°†è¯·æ±‚è½¬å‘ç»™èµ„æºBå»å¤„ç†ã€‚</li>
<li>èµ„æºBå¤„ç†å®Œæˆåå°†å°†ç»“æœå“åº”ç»™æµè§ˆå™¨ã€‚</li>
</ol>
<p>è¯·æ±‚ä»èµ„æºAåˆ°èµ„æºBçš„è¿‡ç¨‹å³ä¸ºè¯·æ±‚è½¬å‘ã€‚</p>
<p>è¯·æ±‚è½¬å‘çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æµè§ˆå™¨åœ°å€æ è·¯å¾„ä¸å˜ã€‚</li>
<li>åªèƒ½è½¬å‘åˆ°å½“å‰æœåŠ¡å™¨çš„å†…éƒ¨èµ„æºã€‚</li>
<li>ä¸€æ¬¡è¯·æ±‚ï¼Œå¯ä»¥åœ¨è½¬å‘çš„èµ„æºé—´ä½¿ç”¨requestå…±äº«æ•°æ®ã€‚</li>
</ul>
<p>ä½¿ç”¨<code>request.getRequestDispatcher(&quot;/path&quot;).forward(request, response)</code>è¿›è¡Œè¯·æ±‚è½¬å‘ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo1&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo1</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;demo1...&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// å­˜å‚¨æ•°æ®
</span><span style="color:#75715e"></span>        request<span style="color:#f92672">.</span><span style="color:#a6e22e">setAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;msg&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Hello&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// è¯·æ±‚è½¬å‘ï¼ˆèµ„æºè½¬å‘åˆ°demo2ï¼‰
</span><span style="color:#75715e"></span>        request<span style="color:#f92672">.</span><span style="color:#a6e22e">getRequestDispatcher</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo2&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">forward</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo2&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo2</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;demo2...&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// è·å–æ•°æ®
</span><span style="color:#75715e"></span>        Object msg <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;msg&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>msg<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>é€šè¿‡<a class="link" href="http://localhost:8080/request-demo/demo1"  target="_blank" rel="noopener"
    >http://localhost:8080/request-demo/demo1</a>è®¿é—®ã€‚</p>
<blockquote>
<p>ç”±äºè¯·æ±‚è½¬å‘æ˜¯åœ¨æœåŠ¡å™¨å†…éƒ¨çš„èµ„æºè½¬å‘ï¼Œæ‰€ä»¥<code>getRequestDispatcher()</code>ä¸­çš„è·¯å¾„ä¸éœ€è¦åŒ…å«è™šæ‹Ÿç›®å½•ã€‚</p>
</blockquote>
<p>è¯·æ±‚è½¬å‘ä½¿ç”¨<code>HttpServletRequest</code>ï¼ˆ<code>Request</code>ï¼‰å¯¹è±¡è¿›è¡Œèµ„æºçš„ä¼ é€’ã€‚è¿™ä¸ªç”¨æ¥å­˜å‚¨èµ„æºçš„ç©ºé—´è¢«ç§°ä¸ºRequeståŸŸã€‚</p>
<p><code>HttpServletRequest</code>å¯¹è±¡æä¾›äº†å¯¹äºRequestä¸­çš„åŸŸå±æ€§æ“ä½œçš„æ–¹æ³•æœ‰ï¼š</p>
<ol>
<li>
<p>åœ¨ Request åŸŸå±æ€§ç©ºé—´ä¸­æ”¾å…¥æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setAttribute</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> Object object<span style="color:#f92672">)</span>
</code></pre></div><p>å…¶ç”Ÿå‘½å‘¨æœŸä¸ Request çš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚</p>
</li>
<li>
<p>ä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­è·å–æŒ‡å®šåç§°çš„æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Object <span style="color:#a6e22e">getAttribute</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>ä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­åˆ é™¤æŒ‡å®šåç§°çš„æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">removeAttribute</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>åˆ›å»ºè¯·æ±‚è½¬å‘å™¨ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">RequestDispatcher <span style="color:#a6e22e">getRequestDispatcher</span><span style="color:#f92672">(</span>String path<span style="color:#f92672">)</span>
</code></pre></div><p>è¯·æ±‚è½¬å‘å™¨ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå®Œæˆå°†è¯·æ±‚å¯¹è±¡è½¬å‘ç»™ä¸‹ä¸€ä¸ªèµ„æºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">forward</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span>
</code></pre></div></li>
</ol>
<h2 id="tomcat7-è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜">Tomcat7 è¯·æ±‚å‚æ•°ä¸­æ–‡ä¹±ç é—®é¢˜</h2>
<blockquote>
<p>Tomcat8.0 ä¹‹åï¼Œå·²ç»å°†é»˜è®¤ç¼–ç è®¾ç½®ä¸ºUTF-8ã€‚</p>
</blockquote>
<p>POSTè¯·æ±‚å‚æ•°æ˜¯é€šè¿‡æµçš„æ–¹å¼è·å–æ•°æ®ï¼š</p>
<ul>
<li>Tomcatåœ¨è·å–æµçš„æ—¶å€™é‡‡ç”¨çš„ç¼–ç æ˜¯<code>ISO-8859-1</code>ã€‚</li>
<li>é¡µé¢è®¾ç½®çš„ç¼–ç æ ¼å¼ä¸€èˆ¬ä¸º<code>UTF-8</code>ã€‚</li>
<li><code>ISO-8859-1</code>ç¼–ç æ˜¯ä¸æ”¯æŒä¸­æ–‡çš„ï¼Œæ‰€ä»¥ä¼šå‡ºç°ä¹±ç ã€‚</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡<code>HttpServletRequest</code>æä¾›çš„<code>setCharacterEncoding()</code>ï¼Œåœ¨Tomcatåœ¨è·å–æµæ•°æ®ä¹‹å‰çš„ç¼–ç è®¾ç½®ä¸ºUTF-8ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.BufferedReader<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.net.URLDecoder<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.nio.charset.StandardCharsets<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo4Copy</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. è®¾ç½®å­—ç¬¦è¾“å…¥æµçš„ç¼–ç 
</span><span style="color:#75715e"></span>        request<span style="color:#f92672">.</span><span style="color:#a6e22e">setCharacterEncoding</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;UTF-8&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// 2. è·å–è¯·æ±‚å‚æ•°
</span><span style="color:#75715e"></span>        BufferedReader br <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getReader</span><span style="color:#f92672">();</span>
        String line <span style="color:#f92672">=</span> br<span style="color:#f92672">.</span><span style="color:#a6e22e">readLine</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// getReader()è·å–çš„æ˜¯ç¼–ç åçš„URLï¼Œå¦‚æœè¦æ˜¾ç¤ºä¸­æ–‡ï¼Œéœ€è¦å¯¹URLæŒ‰ç…§UTF-8è¿›è¡Œè§£ç 
</span><span style="color:#75715e"></span>        String decode <span style="color:#f92672">=</span> URLDecoder<span style="color:#f92672">.</span><span style="color:#a6e22e">decode</span><span style="color:#f92672">(</span>line<span style="color:#f92672">,</span> StandardCharsets<span style="color:#f92672">.</span><span style="color:#a6e22e">UTF_8</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è§£å†³ä¹±ç å: &#34;</span> <span style="color:#f92672">+</span> decode<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>GETè¯·æ±‚å‚æ•°åŒ…å«åœ¨URLä¸­ï¼š</p>
<blockquote>
<p><code>getQueryString()</code>è·å–çš„å¹¶ä¸æ˜¯å­—ç¬¦è¾“å…¥æµï¼Œæ‰€ä»¥<code>setCharacterEncoding()</code>å¹¶ä¸é€‚ç”¨ã€‚</p>
</blockquote>
<ul>
<li>
<p>æµè§ˆå™¨åœ¨å‘é€HTTPçš„è¿‡ç¨‹ä¸­ä¼šæ ¹æ®é¡µé¢<code>&lt;meta&gt;</code>æ ‡ç­¾æŒ‡å®šçš„<code>charset</code>çš„æ–¹å¼ï¼ˆä¸€èˆ¬ä¸ºUTF-8ï¼‰å¯¹URLè¿›è¡Œç¼–ç ã€‚
URLç¼–ç ï¼š</p>
<ol>
<li>å°†å­—ç¬¦ä¸²æŒ‰ç…§ç¼–ç æ–¹å¼è½¬ä¸ºäºŒè¿›åˆ¶ã€‚</li>
<li>æ¯ä¸ªå­—èŠ‚ï¼ˆ8ä½ï¼‰è½¬ä¸º2ä¸ª16è¿›åˆ¶æ•°ï¼ˆä¸€ä¸ª16è¿›åˆ¶æ•°ä»£è¡¨4ä½ï¼‰å¹¶åœ¨å‰è¾¹åŠ ä¸Š<code>%</code>ã€‚</li>
</ol>
</li>
<li>
<p>Tomcatåœ¨æ¥æ”¶ç¼–ç åçš„URLåï¼Œä¼šé»˜è®¤æŒ‰ç…§<code>ISO-8859-1</code>è¿›è¡ŒURLè§£ç ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°å¯ä»¥æ¨¡æ‹ŸURLç¼–ç ã€è§£ç çš„è¿‡ç¨‹ï¼š</p>
<ol>
<li>
<p>ç¼–ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">java<span style="color:#f92672">.</span><span style="color:#a6e22e">net</span><span style="color:#f92672">.</span><span style="color:#a6e22e">URLEncoder</span><span style="color:#f92672">.</span><span style="color:#a6e22e">encode</span><span style="color:#f92672">(</span>string<span style="color:#f92672">,</span> charset<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>è§£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">java<span style="color:#f92672">.</span><span style="color:#a6e22e">net</span><span style="color:#f92672">.</span><span style="color:#a6e22e">URLDecoder</span><span style="color:#f92672">.</span><span style="color:#a6e22e">decode</span><span style="color:#f92672">(</span>string<span style="color:#f92672">,</span> charset<span style="color:#f92672">)</span>
</code></pre></div></li>
</ol>
</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>æŠŠå­—ç¬¦æ•°æ®ï¼ˆURLç¼–ç ï¼‰æŒ‰ç…§ISO-8859-1ç¼–ç è½¬æ¢æˆå­—èŠ‚ã€‚</li>
<li>å­—èŠ‚æŒ‰ç…§æµè§ˆå™¨å¯¹åº”çš„URLç¼–ç ï¼ˆUTF-8ï¼‰è½¬æ¢æˆå¯¹åº”çš„å­—ç¬¦ã€‚</li>
</ol>
<p>è¿™æ ·åœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­ä¿æŒç¼–ç ä¸€è‡´ï¼Œå°±å¯ä»¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.net.URLDecoder<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.nio.charset.StandardCharsets<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo4Copy</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        String qs <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getQueryString</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">// æŠŠå­—ç¬¦æ•°æ®ï¼ˆURLç¼–ç ï¼‰æŒ‰ç…§ISO-8859-1ç¼–ç è½¬æ¢æˆå­—èŠ‚
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> bytes <span style="color:#f92672">=</span> qs<span style="color:#f92672">.</span><span style="color:#a6e22e">getBytes</span><span style="color:#f92672">(</span>StandardCharsets<span style="color:#f92672">.</span><span style="color:#a6e22e">ISO_8859_1</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// æŒ‰ç…§UTF-8ç¼–ç è½¬æ¢æˆå¯¹åº”çš„å­—ç¬¦
</span><span style="color:#75715e"></span>        String s <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span>bytes<span style="color:#f92672">,</span> StandardCharsets<span style="color:#f92672">.</span><span style="color:#a6e22e">UTF_8</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// è½¬æ¢åçš„å­—ç¬¦æ˜¯URLç¼–ç åçš„å­—ç¬¦ï¼Œéœ€è¦å†æ¬¡è§£ç 
</span><span style="color:#75715e"></span>        qs <span style="color:#f92672">=</span> URLDecoder<span style="color:#f92672">.</span><span style="color:#a6e22e">decode</span><span style="color:#f92672">(</span>s<span style="color:#f92672">,</span> StandardCharsets<span style="color:#f92672">.</span><span style="color:#a6e22e">UTF_8</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è§£å†³ä¹±ç å: &#34;</span> <span style="color:#f92672">+</span> qs<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>é€šç”¨æ–¹å¼è§£å†³ä¹±ç é—®é¢˜ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.nio.charset.StandardCharsets<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/test&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RequestDemo4Copy</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. è·å–username
</span><span style="color:#75715e"></span>        String username <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getParameter</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;username&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// 2. è§£å†³ä¹±ç 
</span><span style="color:#75715e"></span>        username <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span>username<span style="color:#f92672">.</span><span style="color:#a6e22e">getBytes</span><span style="color:#f92672">(</span>StandardCharsets<span style="color:#f92672">.</span><span style="color:#a6e22e">ISO_8859_1</span><span style="color:#f92672">),</span>
                            StandardCharsets<span style="color:#f92672">.</span><span style="color:#a6e22e">UTF_8</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è§£å†³ä¹±ç å: &#34;</span> <span style="color:#f92672">+</span> username<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>request<span style="color:#f92672">,</span> response<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><hr>
<h1 id="httpservletresponse">HttpServletResponse</h1>
<p>HTTPå“åº”æ•°æ®æ€»å…±åˆ†ä¸ºä¸‰éƒ¨åˆ†å†…å®¹ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>
<p>å“åº”è¡Œ</p>
<p>å¦‚ï¼Œ<code>HTTP/1.1 200 OK</code>ï¼Œä»å·¦åˆ°å³åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>
<p>HTTPåè®®åŠç‰ˆæœ¬</p>
</li>
<li>
<p>å“åº”çŠ¶æ€ç 
è®¾ç½®å“åº”çŠ¶æ€ç ï¼Œ<code>HttpServletResponse</code>å¯¹è±¡æä¾›äº†ä»¥ä¸‹æ–¹æ³•è®¾ç½®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setStatus</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> sc<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>çŠ¶æ€ç æè¿°</p>
</li>
</ul>
</li>
<li>
<p>å“åº”å¤´</p>
<p>ç”±å¤šä¸ª <code>key: value</code> ç»„æˆã€‚<code>HttpServletResponse</code>å¯¹è±¡æä¾›äº†ä»¥ä¸‹æ–¹æ³•è®¾ç½®é”®å€¼å¯¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> String value<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>å“åº”ä½“</p>
<ul>
<li>
<p>è·å–å­—ç¬¦è¾“å‡ºæµï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PrintWriter <span style="color:#a6e22e">getWriter</span><span style="color:#f92672">()</span>
</code></pre></div></li>
<li>
<p>è·å–å­—èŠ‚è¾“å‡ºæµï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ServletOutputStream <span style="color:#a6e22e">getOutputStream</span><span style="color:#f92672">()</span>
</code></pre></div></li>
</ul>
</li>
</ul>
<h2 id="responesé‡å®šå‘">Responesé‡å®šå‘</h2>
<p>Responseé‡å®šå‘ï¼ˆredirectï¼‰æ˜¯ä¸€ç§èµ„æºè·³è½¬æ–¹å¼ã€‚å¦‚ï¼š</p>
<ol>
<li>æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­å¯¹åº”çš„èµ„æºAæ¥æ”¶åˆ°è¯·æ±‚ã€‚</li>
<li>èµ„æºAç°åœ¨æ— æ³•å¤„ç†è¯¥è¯·æ±‚ï¼Œå°±ä¼šç»™æµè§ˆå™¨å“åº”ä¸€ä¸ª302çš„çŠ¶æ€ç å’Œlocationï¼ˆä¸€ä¸ªè®¿é—®èµ„æºBçš„è·¯å¾„ï¼‰ã€‚</li>
<li>æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”çŠ¶æ€ç ä¸º302å°±ä¼šé‡æ–°å‘é€è¯·æ±‚åˆ°locationå¯¹åº”çš„è®¿é—®åœ°å€å»è®¿é—®èµ„æºBã€‚</li>
</ol>
<p>é‡å®šå‘çš„ç‰¹ç‚¹:</p>
<ul>
<li>
<p>æµè§ˆå™¨åœ°å€æ è·¯å¾„å‘é€å˜åŒ–ï¼ˆç”±èµ„æºAçš„è·¯å¾„å˜åŒ–ä¸ºèµ„æºBçš„è·¯å¾„ï¼‰ã€‚</p>
<p>è¿›è¡Œé‡å®šå‘è®¿é—®æ—¶ï¼Œç”±æµè§ˆå™¨å‘é€ä¸¤æ¬¡è¯·æ±‚ï¼Œæ‰€ä»¥åœ°å€å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
</li>
<li>
<p>å¯ä»¥é‡å®šå‘åˆ°ä»»æ„ä½ç½®çš„èµ„æºï¼ˆæœåŠ¡å™¨å†…éƒ¨ã€å¤–éƒ¨å‡å¯ï¼‰ã€‚</p>
<p>èµ„æºç”±æµè§ˆå™¨æ¥è®¿é—®ï¼Œæ‰€ä»¥å¯ä»¥é‡å®šå‘åˆ°ä»»æ„ä½ç½®èµ„æºã€‚</p>
</li>
<li>
<p>ä¸èƒ½åœ¨å¤šä¸ªèµ„æºä½¿ç”¨Requesté‡å®šå‘å…±äº«æ•°æ®ã€‚</p>
<p>é‡å®šå‘æ˜¯ç”±æµè§ˆå™¨æ¥å‘é€æ–°çš„è¯·æ±‚ï¼Œæ¯æ¬¡è¯·æ±‚ä¸­çš„Requestå¯¹è±¡éƒ½æ˜¯ä¸åŒçš„ã€‚</p>
</li>
</ul>
<p>é‡å®šå‘éœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>
<p>è®¾ç½®302çŠ¶æ€ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">response<span style="color:#f92672">.</span><span style="color:#a6e22e">setStatus</span><span style="color:#f92672">(</span>302<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>è®¾ç½®å“åº”å¤´ä¸­ï¼Œ<code>location</code>çš„å€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">response<span style="color:#f92672">.</span><span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;location&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;/path_b&#34;</span><span style="color:#f92672">)</span>
</code></pre></div></li>
</ol>
<p>Exampleï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo1&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResponseDemo1</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;demo1...&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// é‡å®šå‘
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// 1. è®¾ç½®ç›¸åº”çŠ¶æ€ç 
</span><span style="color:#75715e"></span>        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setStatus</span><span style="color:#f92672">(</span>302<span style="color:#f92672">);</span>
        <span style="color:#75715e">// 2. è®¾ç½®ç›¸åº”å¤´ Location (ä¸åŒºåˆ†å¤§å°å†™)
</span><span style="color:#75715e"></span>        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Location&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;/request-demo/demo2&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo2&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResponseDemo2</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;demo2...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><blockquote>
<p>ç”±äºé‡å®šå‘æ˜¯å°†é‡å®šå‘åçš„èµ„æºè·¯å¾„å‘ŠçŸ¥æµè§ˆå™¨ï¼Œæ‰€ä»¥<code>location</code>éœ€è¦æ·»åŠ è™šæ‹Ÿç›®å½•ï¼ˆå¦‚<code>/response-demo/demo2</code>ï¼‰ã€‚
å¦‚æœæ˜¯é‡å®šå‘åˆ°æœåŠ¡å™¨å¤–éƒ¨èµ„æºï¼Œ<code>location</code>çš„å€¼ä¸ºå¤–éƒ¨èµ„æºçš„URLã€‚</p>
</blockquote>
<p><code>HttpServletResponse</code>æä¾›äº†<code>sendRedirect()</code>æ–¹æ³•æ¥ç®€åŒ–é‡å®šå‘æµç¨‹ã€‚ä¿®æ”¹<code>ResponseDemo1</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web.response<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/resp1&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResponseDemo1</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;resp1...&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// ç®€åŒ–æ–¹å¼å®Œæˆé‡å®šå‘
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// åŠ¨æ€è·å–è™šæ‹Ÿç›®å½•
</span><span style="color:#75715e"></span>        String contextPath <span style="color:#f92672">=</span> req<span style="color:#f92672">.</span><span style="color:#a6e22e">getContextPath</span><span style="color:#f92672">();</span>
        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">sendRedirect</span><span style="color:#f92672">(</span>contextPath <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/resp2&#34;</span><span style="color:#f92672">);</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h2 id="å“åº”å­—ç¬¦æ•°æ®">å“åº”å­—ç¬¦æ•°æ®</h2>
<p>å°†å­—ç¬¦æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œéœ€è¦ï¼š</p>
<ol>
<li>
<p>é€šè¿‡<code>HttpServletResponse</code>å¯¹è±¡è·å–å­—ç¬¦è¾“å‡ºæµï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">PrintWriter writer <span style="color:#f92672">=</span> response<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">()</span>
</code></pre></div></li>
<li>
<p>é€šè¿‡å­—ç¬¦è¾“å‡ºæµå†™æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ä½ å¥½&#34;</span><span style="color:#f92672">)</span>
</code></pre></div></li>
</ol>
<p>Exampleï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.PrintWriter<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResponseDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// è®¾ç½®content-typeï¼ˆå“åº”çš„æ•°æ®æ ¼å¼ï¼‰å’Œå­—ç¬¦é›†ï¼ˆç¼–ç ï¼‰
</span><span style="color:#75715e"></span>        resp<span style="color:#f92672">.</span><span style="color:#a6e22e">setContentType</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;text/html;charset=utf-8&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// content-typeä¹Ÿå¯ä»¥ä½¿ç”¨setHeader()æ‰‹åŠ¨è®¾ç½®
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// resp.setHeader(&#34;content-type&#34;, &#34;text/html&#34;);
</span><span style="color:#75715e"></span>
        <span style="color:#75715e">// è·å–å­—ç¬¦è¾“å‡ºæµ
</span><span style="color:#75715e"></span>        PrintWriter writer <span style="color:#f92672">=</span> resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriter</span><span style="color:#f92672">();</span>
        writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ä½ å¥½&#34;</span><span style="color:#f92672">);</span>
        writer<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&lt;h1&gt;Hello World!&lt;/h1&gt;&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// 
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><blockquote>
<p><code>write()</code>ä¸ä»…èƒ½å†™å…¥æ–‡æœ¬æ•°æ®ï¼Œè¿˜èƒ½å†™å…¥HTMLæ•°æ®ã€‚
<code>PrintWriter</code> å¯¹è±¡ä¼šåœ¨ <code>HttpServletRequest</code> è¢«é”€æ¯æ—¶ä¸€å¹¶é”€æ¯ï¼Œæ— éœ€æ‰‹åŠ¨å…³é—­ã€‚</p>
</blockquote>
<h2 id="å“åº”å­—èŠ‚æ•°æ®">å“åº”å­—èŠ‚æ•°æ®</h2>
<p>å°†å­—èŠ‚æ•°æ®å†™å›åˆ°æµè§ˆå™¨ï¼Œéœ€è¦ï¼š</p>
<ol>
<li>
<p>é€šè¿‡<code>HttpServletResponse</code>å¯¹è±¡è·å–å­—èŠ‚è¾“å‡ºæµï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">ServletOutputStream os <span style="color:#f92672">=</span> response<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputStream</span><span style="color:#f92672">()</span>
</code></pre></div></li>
<li>
<p>é€šè¿‡å­—èŠ‚è¾“å‡ºæµå†™æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">os<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>buff<span style="color:#f92672">)</span>
</code></pre></div></li>
</ol>
<p>Exampleï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.linner.web<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.ServletOutputStream<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.annotation.WebServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.FileInputStream<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.PrintWriter<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@WebServlet</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/demo&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResponseDemo</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 1. è¯»å–æ–‡ä»¶
</span><span style="color:#75715e"></span>        FileInputStream fis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;src/main/webapp/imgs/bg.jpg&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// 2. è·å–responseå­—èŠ‚è¾“å‡ºæµ
</span><span style="color:#75715e"></span>        ServletOutputStream os <span style="color:#f92672">=</span> resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputStream</span><span style="color:#f92672">();</span>

        <span style="color:#75715e">// 3. å®Œæˆæµçš„copy
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> buff <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>1024<span style="color:#f92672">];</span>
        <span style="color:#66d9ef">int</span> len <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">((</span>len <span style="color:#f92672">=</span> fis<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">(</span>buff<span style="color:#f92672">))</span> <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            os<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>buff<span style="color:#f92672">,</span> 0<span style="color:#f92672">,</span> len<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>

        fis<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>req<span style="color:#f92672">,</span> resp<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>å…¶ä¸­ï¼Œæµçš„copyå¯ä»¥ä½¿ç”¨<code>IOUtils</code>å·¥å…·ç±»çš„<code>copy()</code>æ¥ç®€åŒ–æ“ä½œï¼š</p>
<ul>
<li>
<p>å¯¼å…¥é…ç½®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>commons-io<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>commons-io<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>2.6<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>
</code></pre></div></li>
<li>
<p>ä¿®æ”¹<code>ResponseDemo</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
<span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doGet</span><span style="color:#f92672">(</span>HttpServletRequest req<span style="color:#f92672">,</span> HttpServletResponse resp<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
    <span style="color:#75715e">// 1. è¯»å–æ–‡ä»¶
</span><span style="color:#75715e"></span>    FileInputStream fis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;src/main/webapp/imgs/reg_bg_min.jpg&#34;</span><span style="color:#f92672">);</span>0

    <span style="color:#75715e">// 2. è·å–responseå­—èŠ‚è¾“å‡ºæµ
</span><span style="color:#75715e"></span>    ServletOutputStream os <span style="color:#f92672">=</span> resp<span style="color:#f92672">.</span><span style="color:#a6e22e">getOutputStream</span><span style="color:#f92672">();</span>

    <span style="color:#75715e">// 3. å®Œæˆæµçš„copy
</span><span style="color:#75715e"></span>    IOUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">copy</span><span style="color:#f92672">(</span>fis<span style="color:#f92672">,</span> os<span style="color:#f92672">);</span>

    fis<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div></li>
</ul>
<hr>
<h1 id="æ€»ç»“">æ€»ç»“</h1>
<h2 id="httpservletrequest-å¸¸ç”¨æ–¹æ³•">HttpServletRequest å¸¸ç”¨æ–¹æ³•</h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•å</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>String getMethod()</code></td>
<td style="text-align:center">è·å–è¯·æ±‚æ–¹å¼</td>
</tr>
<tr>
<td style="text-align:center"><code>String getContextPath()</code></td>
<td style="text-align:center">è·å–è™šæ‹Ÿç›®å½•ï¼ˆé¡¹ç›®è®¿é—®è·¯å¾„ï¼‰</td>
</tr>
<tr>
<td style="text-align:center"><code>StringBuffer getRequestURL()</code></td>
<td style="text-align:center">è·å–URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰</td>
</tr>
<tr>
<td style="text-align:center"><code>String getRequestURI()</code></td>
<td style="text-align:center">è·å–URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰</td>
</tr>
<tr>
<td style="text-align:center"><code>String getQueryString()</code></td>
<td style="text-align:center">è·å–è¯·æ±‚å‚æ•°ï¼ˆGETæ–¹å¼ï¼‰</td>
</tr>
<tr>
<td style="text-align:center"><code>String getHeader(String name)</code></td>
<td style="text-align:center">è·å–<code>name</code>æŒ‡å®š<code>key</code>å¯¹åº”çš„è¯·æ±‚å¤´çš„<code>value</code></td>
</tr>
<tr>
<td style="text-align:center"><code>ServletInputStream getInputStream()</code></td>
<td style="text-align:center">è·å–è¯·æ±‚ä½“å­—èŠ‚è¾“å…¥æµï¼ˆPOSTæ–¹å¼è·å–è¯·æ±‚å‚æ•°ï¼‰</td>
</tr>
<tr>
<td style="text-align:center"><code>BufferedReader getReader()</code></td>
<td style="text-align:center">è·å–è¯·æ±‚ä½“å­—ç¬¦è¾“å…¥æµ<br><code>getReader()</code>è·å–è¯·æ±‚å‚æ•°åï¼Œè¿˜éœ€è¦ä½¿ç”¨<code>readLine()</code>è¯»å–å‚æ•°æ•°æ®<br>å³ï¼Œ<br><code>BufferedReader br = request.getReader();</code><br><code>String line = br.readLine();</code></td>
</tr>
<tr>
<td style="text-align:center"><code>Map&lt;String, String[]&gt; getParameterMap()</code></td>
<td style="text-align:center">è·å–æ‰€æœ‰è¯·æ±‚å‚æ•°Mapé›†åˆ</td>
</tr>
<tr>
<td style="text-align:center"><code>String[] getParameterValues(String name)</code></td>
<td style="text-align:center">æ ¹æ®åç§°è·å–è¯·æ±‚å‚æ•°å€¼<br>è¿”å›å€¼ä¸ºæ•°ç»„<br>è¿”å›å¤šä¸ªå‚æ•°</td>
</tr>
<tr>
<td style="text-align:center"><code>String getParameter(String name)</code></td>
<td style="text-align:center">æ ¹æ®åç§°è·å–è¯·æ±‚å‚æ•°å€¼<br>è¿”å›å•ä¸ªå‚æ•°å€¼</td>
</tr>
<tr>
<td style="text-align:center"><code>void setAttribute(String name, Object object)</code></td>
<td style="text-align:center">åœ¨ Request åŸŸå±æ€§ç©ºé—´ä¸­æ”¾å…¥æ•°æ®</td>
</tr>
<tr>
<td style="text-align:center"><code>Object getAttribute(String name)</code></td>
<td style="text-align:center">ä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­è·å–æŒ‡å®šåç§°çš„æ•°æ®</td>
</tr>
<tr>
<td style="text-align:center"><code>void removeAttribute(String name)</code></td>
<td style="text-align:center">ä» Request çš„åŸŸå±æ€§ç©ºé—´ä¸­åˆ é™¤æŒ‡å®šåç§°çš„æ•°æ®</td>
</tr>
<tr>
<td style="text-align:center"><code>RequestDispatcher getRequestDispatcher(String path)</code></td>
<td style="text-align:center">åˆ›å»ºè¯·æ±‚è½¬å‘å™¨<br>è¯·æ±‚è½¬å‘å™¨ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå®Œæˆå°†è¯·æ±‚å¯¹è±¡è½¬å‘ç»™ä¸‹ä¸€ä¸ªèµ„æºï¼š<br><code>void forward(HttpServletRequest request, HttpServletResponse response)</code></td>
</tr>
<tr>
<td style="text-align:center"><code>void setCharacterEncoding(String charset)</code></td>
<td style="text-align:center">è®¾ç½®è¯·æ±‚ä½“å­—ç¬¦è¾“å…¥æµçš„ç¼–ç </td>
</tr>
</tbody>
</table></div>
<h2 id="httpservletresponse-å¸¸ç”¨æ–¹æ³•">HttpServletResponse å¸¸ç”¨æ–¹æ³•</h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•å</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>void setStatus(int sc)</code></td>
<td style="text-align:center">è®¾ç½®å“åº”çŠ¶æ€ç </td>
</tr>
<tr>
<td style="text-align:center"><code>void setHeader(String name, String value)</code></td>
<td style="text-align:center">è®¾ç½®å“åº”å¤´é”®å€¼å¯¹</td>
</tr>
<tr>
<td style="text-align:center"><code>PrintWriter getWriter()</code></td>
<td style="text-align:center">è·å–å“åº”ä½“å­—ç¬¦è¾“å‡ºæµè·å–å­—ç¬¦è¾“å‡ºæµåè¿˜éœ€è¦ä½¿ç”¨<code>write()</code>æ–¹æ³•æ¥å†™å…¥å­—ç¬¦æ•°æ®ï¼š<br><code>PrintWriter writer = response.getWriter();</code><br><code>writer.write(&quot;Hello World!&quot;);</code></td>
</tr>
<tr>
<td style="text-align:center"><code>ServletOutputStream getOutputStream()</code></td>
<td style="text-align:center">è·å–å“åº”ä½“å­—èŠ‚è¾“å‡ºæµ<br>è·å–å­—èŠ‚è¾“å‡ºæµå‰éœ€è¦å…ˆä½¿ç”¨<code>FileInputStream</code>å¯¹è±¡æ¥è¯»å–æ–‡ä»¶<br>ç„¶åä½¿ç”¨<code>IOUtils</code>å·¥å…·ç±»çš„<code>copy()</code>æ¥copyæµ<br>è·å–å­—èŠ‚è¾“å‡ºæµåè¿˜éœ€è¦ä½¿ç”¨<code>write()</code>æ–¹æ³•æ¥å†™å…¥å­—ç¬¦æ•°æ®<br><a class="link" href="#%e5%93%8d%e5%ba%94%e5%ad%97%e8%8a%82%e6%95%b0%e6%8d%ae" >å“åº”å­—èŠ‚æ•°æ®</a></td>
</tr>
<tr>
<td style="text-align:center"><code>void sendRedirect(String path)</code></td>
<td style="text-align:center">Responesé‡å®šå‘</td>
</tr>
</tbody>
</table></div>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/java/">Java</a>
        
            <a href="/tags/javaweb/">JavaWeb</a>
        
            <a href="/tags/tomcat/">Tomcat</a>
        
    </section>


    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
       
</article>


    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                

<section class="tagCloud" style="margin-right: 10px;">
<div class="tagCloud-tags">
    <a href="/p/ajax-%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92/">
        
        

        Ajax å‰åç«¯äº¤äº’</a>
</div>
</section>

            
                

<section class="tagCloud" style="margin-right: 10px;">
<div class="tagCloud-tags">
    <a href="/p/filter-%E8%BF%87%E6%BB%A4%E5%99%A8/">
        
        

        Filter è¿‡æ»¤å™¨</a>
</div>
</section>

            
                

<section class="tagCloud" style="margin-right: 10px;">
<div class="tagCloud-tags">
    <a href="/p/%E4%BC%9A%E8%AF%9D%E8%B7%9F%E8%B8%AA%E6%8A%80%E6%9C%AF-cookie-%E5%92%8C-session/">
        
        

        ä¼šè¯è·Ÿè¸ªæŠ€æœ¯ â€”â€” Cookie å’Œ Session</a>
</div>
</section>

            
                

<section class="tagCloud" style="margin-right: 10px;">
<div class="tagCloud-tags">
    <a href="/p/servlet-%E4%B8%8E-tomcat/">
        
        

        Servlet ä¸ Tomcat</a>
</div>
</section>

            
                

<section class="tagCloud" style="margin-right: 10px;">
<div class="tagCloud-tags">
    <a href="/p/tomcat/">
        
        

        Tomcat</a>
</div>
</section>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2022 - 
        
        2023 Linner&#39;s Blog

        <span style="padding-left: 5px;padding-right: 5px;">|</span>

        <a href="https://beian.miit.gov.cn/" target="_blank" >ç²¤ICPå¤‡2022125602å·-1</a>
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
